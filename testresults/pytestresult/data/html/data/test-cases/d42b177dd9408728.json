{
  "uid" : "d42b177dd9408728",
  "name" : "test_get_qa_similarity",
  "fullName" : "pytest.api.test_get_qa_similarity.TestQASimilarity#test_get_qa_similarity",
  "historyId" : "a8a223cf4cc8bf93341a15ddd2b4185d",
  "time" : {
    "start" : 1592215235223,
    "stop" : 1592215241547,
    "duration" : 6324
  },
  "status" : "broken",
  "statusMessage" : "NameError: name 'Accuracy' is not defined",
  "statusTrace" : "self = <test_get_qa_similarity.TestQASimilarity object at 0x0000020A010D9358>\n\n    @pytest.mark.qa_similary_apitest\n    @allure.feature(\"线上全科室\")\n    def test_get_qa_similarity(self):\n        GetRequests().get_request(\"http://192.168.1.79:8234/bert_similarity/v2\", \"GET\", \"qa_similary\", \"None\",\n                                  \"similary\\\\qa_similary\\\\全科室.csv\", [\"sentence\", \"sentence2\",\"cos\"],\n                                  \"label\",\n>                                 \"全科室测试结果.xls\", \"None\")\n\napi\\test_get_qa_similarity.py:22: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\api\\get_requests.py:197: in get_request\n    Binary.binary_plot_curve(exp_list, re_list)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ntruth_value = [0, 0, 0, 1, 1, 1, ...], prob_value = [0, 1, 0, 1, 0, 1, ...]\n\n    @staticmethod\n    def binary_plot_curve(truth_value, prob_value):\n        # re_auc, fpr, tpr = Binary.get_auc(truth_value, prob_value)\n        # plt.plot(fpr, tpr, color='darkorange', lw=1, label='TEST ROC curve (area = %0.2f)' % re_auc)\n        # f1 = Binary.get_f1_score(truth_value, prob_value)\n        # recall = Binary.get_recall_score(truth_value, prob_value)\n        # precision = Binary.get_precision_score(truth_value, prob_value)\n        # Accuracy = Binary.get_accuracy_score(truth_value, prob_value)\n        # print(\"AUC值为：\", re_auc)\n        precision, recall, f1, accuracy = Binary.get_binary_score(truth_value, prob_value)\n        print(\"召回率R为：\", recall)\n        print(\"准确率P为：\", precision)\n        print(\"F1值为：\", f1)\n>       print(\"Accuracy值为：\", Accuracy)\nE       NameError: name 'Accuracy' is not defined\n\n..\\algorithm\\algorithm_func.py:86: NameError",
  "flaky" : false,
  "beforeStages" : [ ],
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "feature",
    "value" : "线上全科室"
  }, {
    "name" : "tag",
    "value" : "qa_similary_apitest"
  }, {
    "name" : "parentSuite",
    "value" : "pytest.api"
  }, {
    "name" : "suite",
    "value" : "test_get_qa_similarity"
  }, {
    "name" : "subSuite",
    "value" : "TestQASimilarity"
  }, {
    "name" : "host",
    "value" : "WIN-OQ20V7UABJF"
  }, {
    "name" : "thread",
    "value" : "7356-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "package",
    "value" : "pytest.api.test_get_qa_similarity"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ ],
  "links" : [ ],
  "hidden" : true,
  "retry" : true,
  "extra" : {
    "categories" : [ ],
    "tags" : [ "qa_similary_apitest" ]
  },
  "source" : "d42b177dd9408728.json",
  "parameterValues" : [ ]
}